knitr::opts_chunk$set(echo = TRUE)
didg <- read.table("Data/Puhan_alphorn.dat", header = TRUE, sep = "\t")
##  Data sanitation.
didg$group <- factor(didg$group, levels = c(0, 1), labels = c("Didgeridoo", "Control"))
didg$sex <-  factor(didg$gender, levels = c(0, 1), labels = c("Male", "Female"))
didg[1:10, c("id", "sex", "age", "bmi", "group", "epworth1")]
fm <- lm(epworth2 ~ 1 + epworth1, data = didg)
summary(fm)
fm <- lm(epworth2 ~ 1 + group, data = didg)
summary(fm)
fm <- lm(epworth2 ~ 0 + group, data = didg)
summary(fm)
fm <- lm(epworth2 ~ 1 + group + offset(epworth1), data = didg)
summary(fm)
fm <- lm(epworth2 ~ 1 + group + offset(epworth1), data = didg)
summary(fm)
confint(fm)
##  Data sanitation.
didg$group <- factor(didg$group, levels = c(1, 0), labels = c("Control", "Didgeridoo"))
fm <- lm(epworth2 ~ 1 + group + offset(epworth1), data = didg)
summary(fm)
confint(fm)
didg <- read.table("Data/Puhan_alphorn.dat", header = TRUE, sep = "\t")
##  Data sanitation.
didg$group <- factor(didg$group, levels = c(1, 0), labels = c("Control", "Didgeridoo"))
didg$sex <-  factor(didg$gender, levels = c(0, 1), labels = c("Male", "Female"))
fm <- lm(epworth2 ~ 1 + group + offset(epworth1), data = didg)
summary(fm)
confint(fm)
t.test(epworth2 - epworth1 ~ group, data = didg)
confint(fm)
t.test(epworth2 - epworth1 ~ group, data = didg)
summary(fm)
fm <- lm(epworth2 ~ 0 + group + offset(epworth1), data = didg)
summary(fm)
confint(fm)
fm <- lm(epworth2 ~ 1 + group + offset(epworth1), data = didg)
summary(fm)
confint(fm)
?t.test
t.test(epworth2 - epworth1 ~ group, data = didg, var.equal = TRUE)
tapply(X = didg$epworth2, FUN = summary, BY = didg$group)
tapply(X = didg$epworth2, FUN = summary, INDEX = didg$group)
mean(didg[didg$group == "Didgeridoo", "epworth1"])
mean(didg[didg$group == "Didgeridoo", "epworth2"])
sd(didg[didg$group == "Didgeridoo", "epworth2"])
mean(didg[didg$group == "Control", "epworth2"])
sd(didg[didg$group == "Control", "epworth2"])
t.test(epworth2 - epworth1 ~ group, data = didg, var.equal = TRUE)
raw.diff <- t.test(epworth2 - epworth1 ~ group, data = didg, var.equal = TRUE)
mean(didg[didg$group == "Didgeridoo", "epworth2" - "epworth1"])
didg$diff <- didg$epworth2 - didg$epworth1
mean(didg[didg$group == "Didgeridoo", "diff"])
sd(didg[didg$group == "Didgeridoo", "diff"])
mean(didg[didg$group == "Control", "diff"])
sd(didg[didg$group == "Control", "diff"])
t.test(epworth2 - epworth1 ~ group, data = didg, var.equal = TRUE)
t.test(diff ~ group, data = didg, var.equal = TRUE)
raw.diff <- -t.test(epworth2 - epworth1 ~ group, data = didg, var.equal = TRUE)
t.test(diff ~ -group, data = didg, var.equal = TRUE)
?reverse
?rev
t.test(diff ~ rev(group), data = didg, var.equal = TRUE)
t.test(diff ~ group, data = didg, var.equal = TRUE)
t.test(x = didg[didg$group == "Didgeridoo", diff], y = didg[didg$group == "Control", diff], var.equal = TRUE)
t.test(x = didg[didg$group == "Didgeridoo", diff], y = didg[didg$group == "Control", diff], var.equal = TRUE)
t.test(x = didg[didg$group == "Didgeridoo", "diff"], y = didg[didg$group == "Control", "diff""], var.equal = TRUE)
t.test(x = didg[didg$group == "Didgeridoo", "diff"], y = didg[didg$group == "Control", "diff"], var.equal = TRUE)
t.test(x = didg[didg$group == "Didgeridoo", "diff"], y = didg[didg$group == "Control", "diff"], var.equal = TRUE)
##  t.test processes "x - y".
diff.raw <- t.test(x = didg[didg$group == "Didgeridoo", "diff"], y = didg[didg$group == "Control", "diff"], var.equal = TRUE)
View(raw.diff)
View(raw.diff)
diff.raw$estimate
diff(diff.raw$estimate)
diff.raw <- t.test(diff ~ group, data = didg, var.equal = TRUE)
diff(diff.raw$estimate)
diff.raw$conf.int
##  t.test processes "x - y".
diff.raw <- t.test(x = didg[didg$group == "Didgeridoo", "diff"], y = didg[didg$group == "Control", "diff"], var.equal = TRUE)
diff.raw$conf.int
-diff(diff.raw$estimate)
diff.raw$estimate
##  diff() processes "[1] - [2]
diff(diff.raw$estimate)
diff.raw$estimate
diff.raw$conf.int
diff.raw$p.value
fm <- lm(epworth2 ~ 1 + group + ah2 + epworth1, data = didg)
summary(fm)
fm <- lm(epworth2 ~ 1 + group + ah2 + epworth1 + change_e, data = didg)
summary(fm)
fm <- lm(epworth2 ~ 1 + group + ah1 + epworth1 + change_e, data = didg)
summary(fm)
fm <- lm(epworth2 ~ 1 + group + ah1 + epworth1 + dweight, data = didg)
summary(fm)
summary(fm)["groupDidgeridoo",]
coef(fm)["groupDidgeridoo",]
coef(fm)["groupDidgeridoo"]
confint(fm)["groupDidgeridoo"]
confint(fm)["groupDidgeridoo",]
summary(fm)
coef(fm)["groupDidgeridoo"]
confint(fm)["groupDidgeridoo",]
knitr::opts_chunk$set(echo = FALSE, include = FALSE)
##  Reshape to long format.
didg.long <- reshape(data = alphorn[, c("id", "group", "epworth1", "epworth2")], varying = c("epworth1", "epworth2"), sep = "", idvar = "id", direction = "long")
##  Reshape to long format.
didg.long <- reshape(data = didg[, c("id", "group", "epworth1", "epworth2")], varying = c("epworth1", "epworth2"), sep = "", idvar = "id", direction = "long")
didg <- read.table("Data/Puhan_alphorn.dat", header = TRUE, sep = "\t")
##  Data sanitation.
didg$group <- factor(didg$group, levels = c(1, 0), labels = c("Control", "Didgeridoo"))
didg$sex <-  factor(didg$gender, levels = c(0, 1), labels = c("Male", "Female"))
##  Reshape to long format.
didg.long <- reshape(data = didg[, c("id", "group", "epworth1", "epworth2")], varying = c("epworth1", "epworth2"), sep = "", idvar = "id", direction = "long")
##  Re-order by 'id' and 'time'.
didg.long <- didg.long[order(didg.long$id, didg.long$time),]
##  Change 'time' to factor.
didg.long$time <- factor(didg.long$time, levels = c(1, 2), labels = c("Baseline", "Follow-Up"))
library(lattice)
xyplot(epworth ~ time | group, data = didg.long, groups = id, type = "b", lty = 1,
scales = list(x = "free"), col = "black", layout = c(2, 1), between = list(x = 1),
xlab = "", ylab = "Epworth Scale")
